<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>U.S. Pork Industry</title>

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-size: 20px;
            font-family: Georgia, 'Times New Roman', Times, serif;
            text-rendering: optimizeLegibility;
        }

        .content {
            max-width: 640px;
            margin: auto;
        }

        .header {
            padding: 3em 0;
        }

        a {
            color: #f05349;
        }

        .footer {
            background: #f4f4f4;
            text-align: center;
            font-size: 0.8em;
            margin-top: 4em;
            padding: 4em 0;
        }

        figure {
            margin: 0;
            padding-bottom: 1.2em;
        }

        figcaption {
            font-size: 0.8em;
            text-align: center;
            margin-top: 0.5em;
            color: #666;
        }

        h1 {
            font-family: 'Lora', Georgia, serif;
            font-weight: bold;
            font-size: 3em;
            line-height: 1.1;
        }

        .subhead {
            font-family: 'Lora', Georgia, serif;
        }

        iframe,
        img,
        video {
            max-width: 100%;
        }

        p {
            line-height: 1.6;
            margin: 0;
            padding-bottom: 1.2em;
        }

        .full-width figure {
            text-align: center;
        }

        ul {
            margin: 0;
            padding-bottom: 1em;
            line-height: 1.6;
        }

        iframe {
            padding-bottom: 1.2em;
        }

        code {
            font-family: 'Courier New', monospace;
            background: #fff880;
        }

        /* margin on mobile */
        @media (max-width: 640px) {
            body {
                font-size: 18px;
            }

            .content {
                padding-left: 0.5em;
                padding-right: 0.5em;
            }
        }
    </style>
    <link href="scrolly-styles.css" rel="stylesheet">
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/3.2.0/scrollama.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.3.0/d3.min.js"></script>
</head>

<body>
    <div class="content">
        <div class="header">
            <h1>the U.S. is Losing its Share in Chinese Pork Import Market </h1>
            <p class="subhead">Here is the subhead or additional content you want to add in</p>
        </div>
        <div class="byline">
            <p>By <a href="https://jonathansoma.com">Yating Wang</a></p>
        </div>
        <p>Pork is the backbone of Chinese diets - economical, protein-rich, and deeply cultural. From street-food dumplings to braised belly, it delivers accessible nutrition to hundreds of millions. 
            Despite price fluctuations and modest declines in meat consumption share, as shown in a recent research, pork still accounts for over half of consumer meat expenditures in China. </p>

        <p>In the past decade, the U.S. has been one of Chinaâ€™s top pork suppliers, exporting both muscle meat and edible offals like pig feet. But that trade relationship is now under threat. After President Trump raised the total tariff to 104% on all Chinese imports, China retaliated with another round of tariff, resulting in a total 84% tariff on imported U.S. goods, according to the Office of the Tariff Commission of the State Council. </p>

        <p>As uncertainty looms, the stakes are high for the U.S. pork industry under a volatile relationship between the U.S. and China.</p>
        <ul>
            <li>There are some lines in <code>scrolly-styles.css</code> for <code>.sticky-thing</code> to make sure the
                graphic is centered</li>
            <li>This template has a <code>script</code> tag to add D3</li>
            <li>It has ten thousand lines of ai2html</li>
            <li>There's a lot of template JS code near the bottom for ai2html/scrollama</li>
        </ul>
        <p>You will need <code><a href="scrolly-styles.css">scrolly-styles.css</a></code> for the page to work for you. Note that the steps themselves are below the ai2html content.
        </p>
        <p>To know the details of how this works, check out <a href="https://www.youtube.com/watch?v=bJKLmEBu2sE&list=PLewNEVDy7gq3MSrrO3eMEW8PhGMEVh2X2&index=7">this video</a> and <a href="https://www.youtube.com/watch?v=hZ1g7d5BPYQ&list=PLewNEVDy7gq3MSrrO3eMEW8PhGMEVh2X2&index=9">this video</a>.</p>
    </div>
    <section id="scrolly-ai2html" class="scrolly-container">
        <div class="sticky-thing">

            <!-- ai2html goes below this line-->
             
            <!-- Generated by ai2html v0.121.1 - 2025-04-12 13:54 -->
            <!-- ai file: XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb.svg -->
            <style media="screen,print">
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-box ,
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-box .g-artboard {
                    margin:0 auto;
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-box p {
                    margin:0;
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-box .g-aiAbs {
                    position:absolute;
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-box .g-aiImg {
                    position:absolute;
                    top:0;
                    display:block;
                    width:100% !important;
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-box .g-aiSymbol {
                    position: absolute;
                    box-sizing: border-box;
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-box .g-aiPointText p { white-space: nowrap; }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 {
                    position:relative;
                    overflow:hidden;
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 p {
                    font-family:arial,helvetica,sans-serif;
                    font-style:normal;
                    line-height:19px;
                    height:auto;
                    opacity:1;
                    letter-spacing:0em;
                    font-size:16px;
                    text-align:left;
                    color:rgb(64,64,64);
                    text-transform:none;
                    padding-bottom:0;
                    padding-top:0;
                    mix-blend-mode:normal;
                    font-weight:regular;
                    position:static;
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 .g-pstyle0 {
                    font-weight:bold;
                    line-height:26px;
                    height:26px;
                    font-size:22px;
                    color:rgb(0,0,0);
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 .g-pstyle1 {
                    line-height:18px;
                    height:18px;
                    font-size:15px;
                    color:rgb(0,0,0);
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 .g-pstyle2 {
                    line-height:18px;
                    height:18px;
                    font-size:15px;
                    color:rgb(162,162,162);
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 .g-pstyle3 {
                    height:19px;
                    color:rgb(0,0,0);
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 .g-pstyle4 {
                    font-style:italic;
                    height:19px;
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 .g-pstyle5 {
                    line-height:18px;
                    height:18px;
                    font-size:15px;
                    color:rgb(116,116,116);
                }
                #g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1 .g-pstyle6 {
                    line-height:13px;
                    height:13px;
                    font-size:11px;
                    color:rgb(136,136,136);
                }

            </style>

            <div id="g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-box" class="ai2html">

                <!-- Artboard: Artboard_1 -->
                <div id="g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1" class="g-artboard" style="max-width: 677px;max-height: 588px" data-aspect-ratio="1.151" data-min-width="0">
            <div style="padding: 0 0 86.8538% 0;"></div>
                    <img id="g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1-img" class="g-XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1-img g-aiImg" alt="" src="XkV0Y-u-s-pork-lean-cut-exports-to-china-plummet-as-competitors-expand-market-share-rgb_svg-Artboard_1.png"/>
                    <div id="g-ai0-1" class="g-exportSvg g-aiAbs g-aiPointText" style="top:2.8194%;margin-top:-15.6px;left:0%;width:664px;">
                        <p class="g-pstyle0">U.S. Pork Lean cut Exports to China Plummet as Competitors</p>
                    </div>
                    <div id="g-ai0-2" class="g-exportSvg g-aiAbs g-aiPointText" style="top:7.0711%;margin-top:-15.6px;left:0%;width:246px;">
                        <p class="g-pstyle0">Expand Market Share</p>
                    </div>
                    <div id="g-ai0-3" class="g-exportSvg g-aiAbs g-aiPointText" style="top:11.968%;margin-top:-10.4px;left:0%;width:570px;">
                        <p class="g-pstyle1">Share of China&rsquo;s pork lean cut imports in percentage by top suppliers (2016&ndash;2024)</p>
                    </div>
                    <div id="g-ai0-4" class="g-exportSvg g-aiAbs g-aiPointText" style="top:18.2605%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">30</p>
                    </div>
                    <div id="g-ai0-5" class="g-exportSvg g-aiAbs g-aiPointText" style="top:22.4427%;margin-top:-11px;left:92.9099%;width:63px;">
                        <p class="g-pstyle3">Spain</p>
                    </div>
                    <div id="g-ai0-6" class="g-exportSvg g-aiAbs g-aiPointText" style="top:23.0224%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">28</p>
                    </div>
                    <div id="g-ai0-7" class="g-exportSvg g-aiAbs g-aiPointText" style="top:27.7843%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">26</p>
                    </div>
                    <div id="g-ai0-8" class="g-exportSvg g-aiAbs g-aiPointText" style="top:30.776%;margin-top:-11px;left:92.9099%;width:62px;">
                        <p class="g-pstyle3">Brazil</p>
                    </div>
                    <div id="g-ai0-9" class="g-exportSvg g-aiAbs g-aiPointText" style="top:32.5462%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">24</p>
                    </div>
                    <div id="g-ai0-10" class="g-exportSvg g-aiAbs g-aiPointText" style="top:37.3081%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">22</p>
                    </div>
                    <div id="g-ai0-11" class="g-exportSvg g-aiAbs g-aiPointText" style="top:42.07%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">20</p>
                    </div>
                    <div id="g-ai0-12" class="g-exportSvg g-aiAbs g-aiPointText" style="top:43.8712%;margin-top:-11px;left:68.6652%;width:150px;">
                        <p class="g-pstyle4">The U.S. supplied</p>
                    </div>
                    <div id="g-ai0-13" class="g-exportSvg g-aiAbs g-aiPointText" style="top:46.6618%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">18</p>
                    </div>
                    <div id="g-ai0-14" class="g-exportSvg g-aiAbs g-aiPointText" style="top:47.1024%;margin-top:-11px;left:70.1315%;width:129px;">
                        <p class="g-pstyle4">14% of China&rsquo;s</p>
                    </div>
                    <div id="g-ai0-15" class="g-exportSvg g-aiAbs g-aiPointText" style="top:50.3337%;margin-top:-11px;left:69.962%;width:132px;">
                        <p class="g-pstyle4">pork imports as</p>
                    </div>
                    <div id="g-ai0-16" class="g-exportSvg g-aiAbs g-aiPointText" style="top:51.4237%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">16</p>
                    </div>
                    <div id="g-ai0-17" class="g-exportSvg g-aiAbs g-aiPointText" style="top:53.565%;margin-top:-11px;left:67.2185%;width:169px;">
                        <p class="g-pstyle4">China experienced a</p>
                    </div>
                    <div id="g-ai0-18" class="g-exportSvg g-aiAbs g-aiPointText" style="top:56.1856%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">14</p>
                    </div>
                    <div id="g-ai0-19" class="g-exportSvg g-aiAbs g-aiPointText" style="top:56.9664%;margin-top:-11px;left:67.4153%;width:166px;">
                        <p class="g-pstyle4">supply shortage due</p>
                    </div>
                    <div id="g-ai0-20" class="g-exportSvg g-aiAbs g-aiPointText" style="top:60.1977%;margin-top:-11px;left:69.5637%;width:137px;">
                        <p class="g-pstyle4">to African Swine</p>
                    </div>
                    <div id="g-ai0-21" class="g-exportSvg g-aiAbs g-aiPointText" style="top:60.9475%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">12</p>
                    </div>
                    <div id="g-ai0-22" class="g-exportSvg g-aiAbs g-aiPointText" style="top:63.429%;margin-top:-11px;left:74.7538%;width:67px;">
                        <p class="g-pstyle4">Fever.</p>
                    </div>
                    <div id="g-ai0-23" class="g-exportSvg g-aiAbs g-aiPointText" style="top:65.7095%;margin-top:-10.4px;left:0%;width:39px;">
                        <p class="g-pstyle2">10</p>
                    </div>
                    <div id="g-ai0-24" class="g-exportSvg g-aiAbs g-aiPointText" style="top:70.4714%;margin-top:-10.4px;left:0%;width:30px;">
                        <p class="g-pstyle2">8</p>
                    </div>
                    <div id="g-ai0-25" class="g-exportSvg g-aiAbs g-aiPointText" style="top:73.6331%;margin-top:-11px;left:92.9099%;width:78px;">
                        <p class="g-pstyle3">Canada</p>
                    </div>
                    <div id="g-ai0-26" class="g-exportSvg g-aiAbs g-aiPointText" style="top:75.2333%;margin-top:-10.4px;left:0%;width:30px;">
                        <p class="g-pstyle2">6</p>
                    </div>
                    <div id="g-ai0-27" class="g-exportSvg g-aiAbs g-aiPointText" style="top:76.8644%;margin-top:-11px;left:92.9099%;width:87px;">
                        <p class="g-pstyle3">Denmark</p>
                    </div>
                    <div id="g-ai0-28" class="g-exportSvg g-aiAbs g-aiPointText" style="top:79.9951%;margin-top:-10.4px;left:0%;width:30px;">
                        <p class="g-pstyle2">4</p>
                    </div>
                    <div id="g-ai0-29" class="g-exportSvg g-aiAbs g-aiPointText" style="top:81.2862%;margin-top:-11px;left:92.9099%;width:68px;">
                        <p class="g-pstyle3">United</p>
                    </div>
                    <div id="g-ai0-30" class="g-exportSvg g-aiAbs g-aiPointText" style="top:84.7571%;margin-top:-10.4px;left:0%;width:30px;">
                        <p class="g-pstyle2">2</p>
                    </div>
                    <div id="g-ai0-31" class="g-exportSvg g-aiAbs g-aiPointText" style="top:89.519%;margin-top:-10.4px;left:0%;width:30px;">
                        <p class="g-pstyle2">0</p>
                    </div>
                    <div id="g-ai0-32" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:2.2734%;width:55px;">
                        <p class="g-pstyle5">2016</p>
                    </div>
                    <div id="g-ai0-33" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:13.1942%;width:55px;">
                        <p class="g-pstyle5">2017</p>
                    </div>
                    <div id="g-ai0-34" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:24.0852%;width:55px;">
                        <p class="g-pstyle5">2018</p>
                    </div>
                    <div id="g-ai0-35" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:34.9762%;width:55px;">
                        <p class="g-pstyle5">2019</p>
                    </div>
                    <div id="g-ai0-36" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:45.8673%;width:55px;">
                        <p class="g-pstyle5">2020</p>
                    </div>
                    <div id="g-ai0-37" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:56.7882%;width:55px;">
                        <p class="g-pstyle5">2021</p>
                    </div>
                    <div id="g-ai0-38" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:67.6791%;width:55px;">
                        <p class="g-pstyle5">2022</p>
                    </div>
                    <div id="g-ai0-39" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:78.5702%;width:55px;">
                        <p class="g-pstyle5">2023</p>
                    </div>
                    <div id="g-ai0-40" class="g-exportSvg g-aiAbs g-aiPointText" style="top:93.2605%;margin-top:-10.4px;left:89.4612%;width:55px;">
                        <p class="g-pstyle5">2024</p>
                    </div>
                    <div id="g-ai0-41" class="g-exportSvg g-aiAbs g-aiPointText" style="top:99.2357%;margin-top:-7.5px;left:0%;width:52px;">
                        <p class="g-pstyle6">Chart:</p>
                    </div>
                    <div id="g-ai0-42" class="g-exportSvg g-aiAbs g-aiPointText" style="top:99.2357%;margin-top:-7.5px;left:4.8285%;width:84px;">
                        <p class="g-pstyle6">Yating Wang</p>
                    </div>
                    <div id="g-ai0-43" class="g-exportSvg g-aiAbs g-aiPointText" style="top:99.2357%;margin-top:-7.5px;left:14.7591%;width:26px;">
                        <p class="g-pstyle6">&bull;</p>
                    </div>
                    <div id="g-ai0-44" class="g-exportSvg g-aiAbs g-aiPointText" style="top:99.2357%;margin-top:-7.5px;left:15.7325%;width:60px;">
                        <p class="g-pstyle6">Source:</p>
                    </div>
                    <div id="g-ai0-45" class="g-exportSvg g-aiAbs g-aiPointText" style="top:99.2357%;margin-top:-7.5px;left:21.736%;width:109px;">
                        <p class="g-pstyle6">Chinese Customs</p>
                    </div>
                    <div id="g-ai0-46" class="g-exportSvg g-aiAbs g-aiPointText" style="top:99.2357%;margin-top:-7.5px;left:34.9638%;width:26px;">
                        <p class="g-pstyle6">&bull;</p>
                    </div>
                    <div id="g-ai0-47" class="g-exportSvg g-aiAbs g-aiPointText" style="top:99.2357%;margin-top:-7.5px;left:35.9372%;width:84px;">
                        <p class="g-pstyle6">Created with</p>
                    </div>
                    <div id="g-ai0-48" class="g-exportSvg g-aiAbs g-aiPointText" style="top:99.2357%;margin-top:-7.5px;left:45.4624%;width:85px;">
                        <p class="g-pstyle6">Datawrapper</p>
                    </div>
                </div>

            </div>

            <!-- End ai2html - 2025-04-12 13:54 -->





















            
        </div>
        <div class="steps-container">
            <div class="step" id="step-one">
                <div>
                    <p>Step one, adjust the CSS at the bottom of this page to change spacing between steps.</p>
                    <p>Here is some more text, in case there are multiple paragraphs.</p>
                </div>
            </div>
            <div class="step" id="step-two">
                <p>Find the JavaScript code near the bottom to associate each step with an image change.</p>
            </div>
            <div class="step" id="step-three">
                <p>By default, the steps are a set width and the text is left-centered. Find the rule in
                    <code>scrolly-styles.css</code> that refers to <code>.step > *</code> to adjust or remove the width,
                    center
                    the text, or change the background color/opacity.
                </p>
            </div>
        </div>
    </section>
    <div class="content">
        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem
            aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
            Nemo
            enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores
            eos qui
            ratione voluptatem sequi nesciunt.</p>
        <figure>
            <img
                src="https://static01.nyt.com/images/2024/02/01/multimedia/01eu-hungary-orban-2-ghkw/01eu-hungary-orban-2-ghkw-superJumbo.jpg?quality=75&auto=webp">
            <figcaption>This is an image caption</figcaption>
        </figure>
        <p>Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non
            numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima
            veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi
            consequatur?
        </p>
    </div>
    <div class="footer">
        <div class="content">
            <p>You can find the code for this template <a href="https://github.com/jsoma/page-templates/">here</a>.
                Delete
                these lines
                when you use it, and don't forget to change the <code>title</code> tag!!!</p>
        </div>
    </div>
    <style>
        .hidden {
            display: none;
        }
    </style>
    <script>

        function hideNote() {
            // annotation: #path-1, #text-1, #path-2, #text-2
            d3.select("#path-1").classed('hidden', true)
            d3.select("#text-1").classed('hidden', true)
            d3.select("#path-2").classed('hidden', true)
            d3.select("#text-2").classed('hidden', true)
        }

        /* Scrollytelling code goes under here */
        hideNote()

        d3.select("#step-one").on('stepout', function (e) {
            if (e.detail.direction === 'up') {
                // undo the changes from step one
                hideNote()
            }
        })

        d3.select("#step-one").on('stepin', function (e) {
            console.log("Got to step one")
            // undo changes from step two
            d3.selectAll("[data-name='africa'] path").style('stroke', 'none')

            // do changes for step one
            d3.select("#path-1").classed('hidden', false)
            d3.select("#text-1").classed('hidden', false)
            d3.select("#path-2").classed('hidden', false)
            d3.select("#text-2").classed('hidden', false)
        })

        d3.select("#step-two").on('stepin', function (e) {

            // undo changes from step one
            hideNote()

            // do changes for step two
            console.log("Got to step two")
            d3.selectAll("[data-name='africa'] path").style('stroke', 'black')
        })

        d3.select("#step-three").on('stepin', function (e) {
            // undo changes from step two
            d3.selectAll("[data-name='africa'] path").style('stroke', 'none')
        })


    </script>



    <script>
        /*************
        
        This is the JavaScript that makes the scrolly work 
        
        *************/

        /* 
        This part attaches a scroll to the element with id="scrolly-ai2html"    
        */
        (() => {
            const scroller = scrollama()

            scroller
                .setup({
                    parent: document.querySelector("#scrolly-ai2html"),
                    step: ".step",
                    offset: 0.6,
                    debug: false,
                })
                .onStepEnter(function ({ element, index, direction }) {
                    const event = new CustomEvent("stepin", { detail: { direction: direction } })
                    element.dispatchEvent(event)
                })
                .onStepExit(function ({ element, index, direction }) {
                    const event = new CustomEvent("stepout", { detail: { direction: direction } })
                    if (direction === "up" && element.previousElementSibling) {
                        const event = new CustomEvent("stepin", { detail: { direction: direction } })
                        element.previousElementSibling.dispatchEvent(event)
                    }
                })

            window.addEventListener("resize", scroller.resize)
        })()

    </script>
    <style>
        /* Change this to adjust the padding between steps */
        .step {
            margin-bottom: 70vh;
        }
    </style>

    <script type="text/javascript">
            (function () {
                // only want one resizer on the page
                if (document.documentElement.className.indexOf("g-resizer-v3-init") > -1) return;
                document.documentElement.className += " g-resizer-v3-init";
                // require IE9+
                if (!("querySelector" in document)) return;
                function resizer() {
                    var elements = Array.prototype.slice.call(document.querySelectorAll(".g-artboard[data-min-width]")),
                        widthById = {};
                    elements.forEach(function (el) {
                        var parent = el.parentNode,
                            width = widthById[parent.id] || parent.getBoundingClientRect().width,
                            minwidth = el.getAttribute("data-min-width"),
                            maxwidth = el.getAttribute("data-max-width");
                        widthById[parent.id] = width;

                        if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {
                            el.style.display = "block";
                        } else {
                            el.style.display = "none";
                        }
                    });
                    try {
                        if (window.parent && window.parent.$) {
                            window.parent.$("body").trigger("resizedcontent", [window]);
                        }
                        if (window.require) {
                            require(['foundation/main'], function () {
                                require(['shared/interactive/instances/app-communicator'], function (AppCommunicator) {
                                    AppCommunicator.triggerResize();
                                });
                            });
                        }
                    } catch (e) { console.log(e); }
                }

                document.addEventListener('DOMContentLoaded', resizer);
                // feel free to replace throttle with _.throttle, if available
                window.addEventListener('resize', throttle(resizer, 200));

                function throttle(func, wait) {
                    // from underscore.js
                    var _now = Date.now || function () { return new Date().getTime(); },
                        context, args, result, timeout = null, previous = 0;
                    var later = function () {
                        previous = _now();
                        timeout = null;
                        result = func.apply(context, args);
                        if (!timeout) context = args = null;
                    };
                    return function () {
                        var now = _now(), remaining = wait - (now - previous);
                        context = this;
                        args = arguments;
                        if (remaining <= 0 || remaining > wait) {
                            if (timeout) {
                                clearTimeout(timeout);
                                timeout = null;
                            }
                            previous = now;
                            result = func.apply(context, args);
                            if (!timeout) context = args = null;
                        } else if (!timeout && options && options.trailing !== false) {
                            timeout = setTimeout(later, remaining);
                        }
                        return result;
                    };
                }


            })();
    </script>
</body>

</html>